<!-- Source: https://deepwiki.com/zed-industries/zed/2.4-event-flow-and-input-handling -->

# 2.4 Event Flow And Input Handling

Loading...

Index your code with Devin

[DeepWiki](</>)

[DeepWiki](</>)

[zed-industries/zed ](<https://github.com/zed-industries/zed> "Open repository")

Index your code with

Devin

Edit WikiShare

Loading...

Last indexed: 16 December 2025 ([4109c9](<https://github.com/zed-industries/zed/commits/4109c9dd>))

  * [Overview](</zed-industries/zed/1-overview>)
  * [Core Architecture](</zed-industries/zed/2-core-architecture>)
  * [Application Initialization and Lifecycle](</zed-industries/zed/2.1-application-initialization-and-lifecycle>)
  * [GPUI Framework](</zed-industries/zed/2.2-gpui-framework>)
  * [Window and Platform Abstraction](</zed-industries/zed/2.3-window-and-platform-abstraction>)
  * [Event Flow and Input Handling](</zed-industries/zed/2.4-event-flow-and-input-handling>)
  * [Keybinding and Action System](</zed-industries/zed/2.5-keybinding-and-action-system>)
  * [Focus Management and Hit Testing](</zed-industries/zed/2.6-focus-management-and-hit-testing>)
  * [Editor Architecture](</zed-industries/zed/3-editor-architecture>)
  * [Editor Component and UI](</zed-industries/zed/3.1-editor-component-and-ui>)
  * [Buffer System and Text Storage](</zed-industries/zed/3.2-buffer-system-and-text-storage>)
  * [Display Pipeline and Rendering](</zed-industries/zed/3.3-display-pipeline-and-rendering>)
  * [Selections and Editing Operations](</zed-industries/zed/3.4-selections-and-editing-operations>)
  * [Code Intelligence Integration](</zed-industries/zed/3.5-code-intelligence-integration>)
  * [Diff Integration](</zed-industries/zed/3.6-diff-integration>)
  * [Workspace and Panel System](</zed-industries/zed/4-workspace-and-panel-system>)
  * [Workspace Organization](</zed-industries/zed/4.1-workspace-organization>)
  * [Item System and Lifecycle](</zed-industries/zed/4.2-item-system-and-lifecycle>)
  * [Pane Management](</zed-industries/zed/4.3-pane-management>)
  * [Search System](</zed-industries/zed/4.4-search-system>)
  * [Project Management](</zed-industries/zed/5-project-management>)
  * [Project Orchestration](</zed-industries/zed/5.1-project-orchestration>)
  * [Worktree and File System](</zed-industries/zed/5.2-worktree-and-file-system>)
  * [Buffer Store](</zed-industries/zed/5.3-buffer-store>)
  * [Language Intelligence](</zed-industries/zed/6-language-intelligence>)
  * [LSP Store Architecture](</zed-industries/zed/6.1-lsp-store-architecture>)
  * [Language Server Lifecycle](</zed-industries/zed/6.2-language-server-lifecycle>)
  * [Completions and Diagnostics](</zed-industries/zed/6.3-completions-and-diagnostics>)
  * [Multi-Language Server Coordination](</zed-industries/zed/6.4-multi-language-server-coordination>)
  * [Settings and Configuration](</zed-industries/zed/7-settings-and-configuration>)
  * [Settings Store and Layering](</zed-industries/zed/7.1-settings-store-and-layering>)
  * [Settings UI](</zed-industries/zed/7.2-settings-ui>)
  * [Settings Migration](</zed-industries/zed/7.3-settings-migration>)
  * [Keymap System](</zed-industries/zed/7.4-keymap-system>)
  * [Git Integration](</zed-industries/zed/8-git-integration>)
  * [Git Panel and UI](</zed-industries/zed/8.1-git-panel-and-ui>)
  * [Git Store and State Management](</zed-industries/zed/8.2-git-store-and-state-management>)
  * [Repository Operations](</zed-industries/zed/8.3-repository-operations>)
  * [Diff System](</zed-industries/zed/8.4-diff-system>)
  * [Terminal and Task Execution](</zed-industries/zed/9-terminal-and-task-execution>)
  * [Terminal Core](</zed-industries/zed/9.1-terminal-core>)
  * [Terminal View and Rendering](</zed-industries/zed/9.2-terminal-view-and-rendering>)
  * [Task System](</zed-industries/zed/9.3-task-system>)
  * [Vim Mode](</zed-industries/zed/10-vim-mode>)
  * [Mode State Machine](</zed-industries/zed/10.1-mode-state-machine>)
  * [Operators, Motions, and Objects](</zed-industries/zed/10.2-operators-motions-and-objects>)
  * [Visual Mode](</zed-industries/zed/10.3-visual-mode>)
  * [Helix Mode Integration](</zed-industries/zed/10.4-helix-mode-integration>)
  * [AI Agent System](</zed-industries/zed/11-ai-agent-system>)
  * [Agent Communication Protocol (ACP)](</zed-industries/zed/11.1-agent-communication-protocol-\(acp\)>)
  * [Agent UI and Thread Management](</zed-industries/zed/11.2-agent-ui-and-thread-management>)
  * [Agent Connection and Implementations](</zed-industries/zed/11.3-agent-connection-and-implementations>)
  * [Tool System](</zed-industries/zed/11.4-tool-system>)
  * [Mention System and Context](</zed-industries/zed/11.5-mention-system-and-context>)
  * [Legacy Agent Thread System](</zed-industries/zed/11.6-legacy-agent-thread-system>)
  * [Remote Development and Collaboration](</zed-industries/zed/12-remote-development-and-collaboration>)
  * [Local vs Remote Architecture](</zed-industries/zed/12.1-local-vs-remote-architecture>)
  * [Remote Project Architecture](</zed-industries/zed/12.2-remote-project-architecture>)
  * [Collaboration Features](</zed-industries/zed/12.3-collaboration-features>)
  * [CRDT and Synchronization](</zed-industries/zed/12.4-crdt-and-synchronization>)


Menu

# Event Flow and Input Handling

Relevant source files

  * [assets/keymaps/default-linux.json](<https://github.com/zed-industries/zed/blob/4109c9dd/assets/keymaps/default-linux.json>)
  * [assets/keymaps/default-macos.json](<https://github.com/zed-industries/zed/blob/4109c9dd/assets/keymaps/default-macos.json>)
  * [assets/keymaps/default-windows.json](<https://github.com/zed-industries/zed/blob/4109c9dd/assets/keymaps/default-windows.json>)
  * [crates/gpui/examples/mouse_pressure.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/examples/mouse_pressure.rs>)
  * [crates/gpui/src/app.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/app.rs>)
  * [crates/gpui/src/interactive.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/interactive.rs>)
  * [crates/gpui/src/key_dispatch.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/key_dispatch.rs>)
  * [crates/gpui/src/keymap.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/keymap.rs>)
  * [crates/gpui/src/platform.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform.rs>)
  * [crates/gpui/src/platform/linux/headless/client.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/headless/client.rs>)
  * [crates/gpui/src/platform/linux/platform.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/platform.rs>)
  * [crates/gpui/src/platform/linux/wayland/client.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/wayland/client.rs>)
  * [crates/gpui/src/platform/linux/wayland/window.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/wayland/window.rs>)
  * [crates/gpui/src/platform/linux/x11/client.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/x11/client.rs>)
  * [crates/gpui/src/platform/linux/x11/window.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/x11/window.rs>)
  * [crates/gpui/src/platform/mac/events.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/mac/events.rs>)
  * [crates/gpui/src/platform/mac/platform.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/mac/platform.rs>)
  * [crates/gpui/src/platform/mac/window.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/mac/window.rs>)
  * [crates/gpui/src/platform/test/platform.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/test/platform.rs>)
  * [crates/gpui/src/platform/test/window.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/test/window.rs>)
  * [crates/gpui/src/platform/windows/events.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/windows/events.rs>)
  * [crates/gpui/src/platform/windows/platform.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/windows/platform.rs>)
  * [crates/gpui/src/platform/windows/util.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/windows/util.rs>)
  * [crates/gpui/src/platform/windows/window.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/windows/window.rs>)
  * [crates/gpui/src/window.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs>)
  * [crates/title_bar/Cargo.toml](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/title_bar/Cargo.toml>)
  * [crates/title_bar/src/platform_title_bar.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/title_bar/src/platform_title_bar.rs>)
  * [crates/title_bar/src/platforms/platform_linux.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/title_bar/src/platforms/platform_linux.rs>)
  * [crates/title_bar/src/title_bar.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/title_bar/src/title_bar.rs>)
  * [crates/title_bar/src/title_bar_settings.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/title_bar/src/title_bar_settings.rs>)
  * [crates/ui/src/components/keybinding.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/ui/src/components/keybinding.rs>)
  * [crates/zed/src/zed/app_menus.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/zed/src/zed/app_menus.rs>)
  * [crates/zed_actions/src/lib.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/zed_actions/src/lib.rs>)


## Purpose and Scope

This document describes how user input flows through the Zed application, from operating system events to component actions. It covers the translation of platform-specific input events, the dispatch tree architecture, keystroke-to-action mapping, and the two-phase event dispatch system.

For information about the action system and keybindings configuration, see [Keybinding and Action System](</zed-industries/zed/2.5-keybinding-and-action-system>). For focus management and how focus affects event routing, see [Focus Management and Hit Testing](</zed-industries/zed/2.6-focus-management-and-hit-testing>).

## Overview of Event Flow

User input in Zed follows a multi-stage pipeline that transforms OS-level events into component actions:


**Sources:** [crates/gpui/src/window.rs1-200](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L1-L200>) [crates/gpui/src/platform.rs38-46](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform.rs#L38-L46>)

## Platform Input Translation

Each platform translates native OS events into `PlatformInput` events. This abstraction layer provides a unified interface for the rest of GPUI.

### Platform-Specific Entry Points

Platform| Handler| Native Event Type  
---|---|---  
Windows| `WindowsWindowInner::handle_msg()`| `WM_*` messages  
macOS| `handle_key_down`, `handle_mouse_down`| `NSEvent`  
X11| `X11Client::process_event()`| `x11rb::protocol::Event`  
Wayland| `WaylandClient::handle_event()`| Wayland protocol events  
  

### PlatformInput Types

The `PlatformInput` enum defines all input event types:

Event Type| Description| Key Fields  
---|---|---  
`KeyDown`| Key press event| `keystroke`, `is_held`, `prefer_character_input`  
`KeyUp`| Key release event| `keystroke`  
`ModifiersChanged`| Modifier key state change| `modifiers`  
`MouseDown`| Mouse button press| `button`, `position`, `click_count`  
`MouseUp`| Mouse button release| `button`, `position`  
`MouseMove`| Mouse movement| `position`, `pressed_button`  
`ScrollWheel`| Scroll/trackpad input| `delta`, `touch_phase`  
`FileDrop`| Drag and drop| `paths`, `position`  
  
**Sources:** [crates/gpui/src/interactive.rs8-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/interactive.rs#L8-L100>) [crates/gpui/src/platform/windows/events.rs35-116](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/windows/events.rs#L35-L116>) [crates/gpui/src/platform/mac/window.rs1-60](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/mac/window.rs#L1-L60>) [crates/gpui/src/platform/linux/x11/client.rs1-70](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/x11/client.rs#L1-L70>)

## Window Input Processing

The `Window` struct is responsible for processing `PlatformInput` events and managing input state.

### Keystroke Sequence Handling

Windows maintain state for multi-keystroke sequences (e.g., `ctrl-k ctrl-s`):


The window tracks:

  * **`pending_input`** : Current keystroke sequence being built
  * **`last_key_down_time`** : For detecting held keys
  * **`modifiers`** : Current modifier key state
  * **`pending_mouse_down`** : Mouse down event awaiting click count determination


**Sources:** [crates/gpui/src/window.rs700-900](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L700-L900>)

### Input Handler Integration

For text input, the window delegates to a `PlatformInputHandler`:


**Sources:** [crates/gpui/src/window.rs2500-2700](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L2500-L2700>) [crates/gpui/src/platform.rs250-350](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform.rs#L250-L350>)

## Event Dispatch Phases

GPUI implements a two-phase event dispatch system similar to web browsers' DOM event model.

### DispatchPhase Enum


### Phase Behavior

Phase| Direction| Use Cases  
---|---|---  
**Capture**|  Root to focused element| Global shortcuts, special handling before target  
**Bubble**|  Focused element to root| Normal event handling, delegation to parents  
  
During each phase, handlers can call `cx.stop_propagation()` to prevent further dispatch. The `DispatchTree` manages this routing based on the element hierarchy established during rendering.

**Sources:** [crates/gpui/src/window.rs71-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L71-L100>) [crates/gpui/src/window.rs2100-2300](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L2100-L2300>)

## DispatchTree Architecture

The `DispatchTree` is built during rendering and represents the hierarchy of interactive elements. It stores:


### DispatchNode Structure

Each node in the tree contains:

  * **`view_id`** : The entity that rendered this node
  * **`context_stack`** : Stack of `KeyContext` for conditional keybindings
  * **`action_listeners`** : Map of `TypeId` to action handlers
  * **`parent`** : Optional parent node ID for hierarchy traversal


### Event Routing Process


**Sources:** [crates/gpui/src/window.rs2100-2600](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L2100-L2600>) [crates/gpui/src/key_dispatch.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/key_dispatch.rs#L1-L100>)

## Keystroke Processing and Keymap System

The keymap system translates keystroke sequences into actions based on the current context.

### Keystroke Representation

A `Keystroke` contains:

  * **`key`** : The key identifier (e.g., "a", "enter", "left")
  * **`modifiers`** : Set of modifier keys (`Ctrl`, `Alt`, `Shift`, `Command`)
  * **`ime_key`** : Optional IME/compose key identifier


### KeyBinding Structure

A `KeyBinding` maps a keystroke sequence to an action within a specific context:


### Context-Aware Matching

Keybindings can be conditional based on the `KeyContext` stack:


Context predicates support:

  * Simple key-value equality: `"context": "Editor"`
  * Logical operators: `"Editor && mode == full"`
  * Negation: `"Editor && !showing_completions"`


**Sources:** [crates/gpui/src/keymap.rs1-200](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/keymap.rs#L1-L200>) [crates/gpui/src/keymap/binding.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/keymap/binding.rs#L1-L100>) [crates/gpui/src/keymap/context.rs1-150](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/keymap/context.rs#L1-L150>) [assets/keymaps/default-macos.json1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/assets/keymaps/default-macos.json#L1-L100>)

### Keymap Loading and Precedence

Keymaps are loaded from JSON files with a specific precedence order:

  1. **Platform defaults** : `default-{macos,linux,windows}.json`
  2. **User keymaps** : `~/.config/zed/keymap.json`
  3. **Runtime additions** : Programmatically added bindings


When multiple bindings match the same keystroke sequence, the most recently added binding wins.


**Sources:** [crates/gpui/src/keymap.rs150-300](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/keymap.rs#L150-L300>) [assets/keymaps/default-macos.json1-50](<https://github.com/zed-industries/zed/blob/4109c9dd/assets/keymaps/default-macos.json#L1-L50>)

## Action Dispatch

Once a keystroke is matched to an action, the action is dispatched through the `DispatchTree`.

### Action Types

Actions are trait objects that implement the `Action` trait:


Actions can be:

  * **Simple** : `actions!(zed, [Quit, About, OpenSettings])`
  * **Parameterized** : `OpenBrowser { url: String }`


### Dispatch Process


### Action Registration

Components register action handlers during rendering:


The `on_action` method registers a listener in the current dispatch node that will be invoked when the action is dispatched.

**Sources:** [crates/gpui/src/window.rs2300-2500](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L2300-L2500>) [crates/gpui/src/key_dispatch.rs100-300](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/key_dispatch.rs#L100-L300>)

## Mouse Event Handling

Mouse events follow a similar but distinct path from keyboard events.

### Mouse Event Types

Event| Trigger| Data  
---|---|---  
`MouseDown`| Button press| `button`, `position`, `click_count`, `modifiers`  
`MouseUp`| Button release| `button`, `position`, `modifiers`  
`MouseMove`| Cursor movement| `position`, `pressed_button`, `modifiers`  
`ScrollWheel`| Scroll/trackpad| `delta`, `position`, `touch_phase`  
`MouseExited`| Cursor leaves window| -  
  
### Click State Tracking

The window tracks click state to determine double/triple clicks:


The window maintains:

  * **`last_click_timestamp`** : Time of last click
  * **`last_click_position`** : Position of last click
  * **`current_click_count`** : Current click count (1, 2, or 3)


Clicks are considered part of a sequence if they occur within `DOUBLE_CLICK_INTERVAL` and within `DOUBLE_CLICK_DISTANCE` of the previous click.

**Sources:** [crates/gpui/src/platform/windows/window.rs60-150](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/windows/window.rs#L60-L150>) [crates/gpui/src/platform/linux/platform.rs35-40](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/platform.rs#L35-L40>)

### Hit Testing

Mouse event targets are determined through hit testing using the `Hitbox` system:


`HitboxBehavior` types:

  * **`Normal`** : Normal hit testing, doesn't block behind hitboxes
  * **`BlockMouse`** : Blocks all mouse interaction with hitboxes behind
  * **`BlockMouseExceptScroll`** : Blocks mouse except scroll events


**Sources:** [crates/gpui/src/window.rs475-650](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L475-L650>)

### Mouse Event Dispatch

Unlike keyboard events, mouse events are dispatched directly to handlers registered on elements:


Mouse handlers receive:

  * The event data
  * The dispatch phase (Capture or Bubble)
  * A mutable context


**Sources:** [crates/gpui/src/window.rs2700-3000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L2700-L3000>)

## Key Concepts Summary

### Event Flow Pipeline


### Core Abstractions

Abstraction| Purpose| Key Type  
---|---|---  
**Platform Input**|  OS abstraction| `PlatformInput` enum  
**Keystroke**|  Key + modifiers| `Keystroke` struct  
**Keymap**|  Keystroke â†’ Action| `Keymap` \+ `KeyBinding`  
**Dispatch Tree**|  Routing hierarchy| `DispatchTree` \+ `DispatchNode`  
**Action**|  Typed commands| `Box<dyn Action>`  
**Input Handler**|  Text input| `PlatformInputHandler` trait  
  
### Dispatch Phases


**Capture phase** is used for:

  * Global keyboard shortcuts
  * Special key handling before target
  * Event interception/prevention


**Bubble phase** is used for:

  * Normal component event handling
  * Parent delegation
  * Default behaviors


**Sources:** [crates/gpui/src/window.rs71-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L71-L100>) [crates/gpui/src/window.rs2100-2600](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/window.rs#L2100-L2600>) [crates/gpui/src/key_dispatch.rs1-200](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/key_dispatch.rs#L1-L200>) [crates/gpui/src/keymap.rs1-300](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/keymap.rs#L1-L300>) [crates/gpui/src/interactive.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/interactive.rs#L1-L100>) [crates/gpui/src/platform/windows/events.rs1-600](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/windows/events.rs#L1-L600>) [crates/gpui/src/platform/mac/events.rs1-200](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/mac/events.rs#L1-L200>) [crates/gpui/src/platform/linux/x11/client.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/x11/client.rs#L1-L100>) [crates/gpui/src/platform/linux/wayland/client.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/gpui/src/platform/linux/wayland/client.rs#L1-L100>)

Dismiss

Refresh this wiki

This wiki was recently refreshed. Please wait 7 days to refresh again.

### On this page

  * [Event Flow and Input Handling](<#event-flow-and-input-handling>)
  * [Purpose and Scope](<#purpose-and-scope>)
  * [Overview of Event Flow](<#overview-of-event-flow>)
  * [Platform Input Translation](<#platform-input-translation>)
  * [Platform-Specific Entry Points](<#platform-specific-entry-points>)
  * [PlatformInput Types](<#platforminput-types>)
  * [Window Input Processing](<#window-input-processing>)
  * [Keystroke Sequence Handling](<#keystroke-sequence-handling>)
  * [Input Handler Integration](<#input-handler-integration>)
  * [Event Dispatch Phases](<#event-dispatch-phases>)
  * [DispatchPhase Enum](<#dispatchphase-enum>)
  * [Phase Behavior](<#phase-behavior>)
  * [DispatchTree Architecture](<#dispatchtree-architecture>)
  * [DispatchNode Structure](<#dispatchnode-structure>)
  * [Event Routing Process](<#event-routing-process>)
  * [Keystroke Processing and Keymap System](<#keystroke-processing-and-keymap-system>)
  * [Keystroke Representation](<#keystroke-representation>)
  * [KeyBinding Structure](<#keybinding-structure>)
  * [Context-Aware Matching](<#context-aware-matching>)
  * [Keymap Loading and Precedence](<#keymap-loading-and-precedence>)
  * [Action Dispatch](<#action-dispatch>)
  * [Action Types](<#action-types>)
  * [Dispatch Process](<#dispatch-process>)
  * [Action Registration](<#action-registration>)
  * [Mouse Event Handling](<#mouse-event-handling>)
  * [Mouse Event Types](<#mouse-event-types>)
  * [Click State Tracking](<#click-state-tracking>)
  * [Hit Testing](<#hit-testing>)
  * [Mouse Event Dispatch](<#mouse-event-dispatch>)
  * [Key Concepts Summary](<#key-concepts-summary>)
  * [Event Flow Pipeline](<#event-flow-pipeline>)
  * [Core Abstractions](<#core-abstractions>)
  * [Dispatch Phases](<#dispatch-phases>)
