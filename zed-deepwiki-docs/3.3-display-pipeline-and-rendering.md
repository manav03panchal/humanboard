<!-- Source: https://deepwiki.com/zed-industries/zed/3.3-display-pipeline-and-rendering -->

# 3.3 Display Pipeline And Rendering

Loading...

Index your code with Devin

[DeepWiki](</>)

[DeepWiki](</>)

[zed-industries/zed ](<https://github.com/zed-industries/zed> "Open repository")

Index your code with

Devin

Edit WikiShare

Loading...

Last indexed: 16 December 2025 ([4109c9](<https://github.com/zed-industries/zed/commits/4109c9dd>))

  * [Overview](</zed-industries/zed/1-overview>)
  * [Core Architecture](</zed-industries/zed/2-core-architecture>)
  * [Application Initialization and Lifecycle](</zed-industries/zed/2.1-application-initialization-and-lifecycle>)
  * [GPUI Framework](</zed-industries/zed/2.2-gpui-framework>)
  * [Window and Platform Abstraction](</zed-industries/zed/2.3-window-and-platform-abstraction>)
  * [Event Flow and Input Handling](</zed-industries/zed/2.4-event-flow-and-input-handling>)
  * [Keybinding and Action System](</zed-industries/zed/2.5-keybinding-and-action-system>)
  * [Focus Management and Hit Testing](</zed-industries/zed/2.6-focus-management-and-hit-testing>)
  * [Editor Architecture](</zed-industries/zed/3-editor-architecture>)
  * [Editor Component and UI](</zed-industries/zed/3.1-editor-component-and-ui>)
  * [Buffer System and Text Storage](</zed-industries/zed/3.2-buffer-system-and-text-storage>)
  * [Display Pipeline and Rendering](</zed-industries/zed/3.3-display-pipeline-and-rendering>)
  * [Selections and Editing Operations](</zed-industries/zed/3.4-selections-and-editing-operations>)
  * [Code Intelligence Integration](</zed-industries/zed/3.5-code-intelligence-integration>)
  * [Diff Integration](</zed-industries/zed/3.6-diff-integration>)
  * [Workspace and Panel System](</zed-industries/zed/4-workspace-and-panel-system>)
  * [Workspace Organization](</zed-industries/zed/4.1-workspace-organization>)
  * [Item System and Lifecycle](</zed-industries/zed/4.2-item-system-and-lifecycle>)
  * [Pane Management](</zed-industries/zed/4.3-pane-management>)
  * [Search System](</zed-industries/zed/4.4-search-system>)
  * [Project Management](</zed-industries/zed/5-project-management>)
  * [Project Orchestration](</zed-industries/zed/5.1-project-orchestration>)
  * [Worktree and File System](</zed-industries/zed/5.2-worktree-and-file-system>)
  * [Buffer Store](</zed-industries/zed/5.3-buffer-store>)
  * [Language Intelligence](</zed-industries/zed/6-language-intelligence>)
  * [LSP Store Architecture](</zed-industries/zed/6.1-lsp-store-architecture>)
  * [Language Server Lifecycle](</zed-industries/zed/6.2-language-server-lifecycle>)
  * [Completions and Diagnostics](</zed-industries/zed/6.3-completions-and-diagnostics>)
  * [Multi-Language Server Coordination](</zed-industries/zed/6.4-multi-language-server-coordination>)
  * [Settings and Configuration](</zed-industries/zed/7-settings-and-configuration>)
  * [Settings Store and Layering](</zed-industries/zed/7.1-settings-store-and-layering>)
  * [Settings UI](</zed-industries/zed/7.2-settings-ui>)
  * [Settings Migration](</zed-industries/zed/7.3-settings-migration>)
  * [Keymap System](</zed-industries/zed/7.4-keymap-system>)
  * [Git Integration](</zed-industries/zed/8-git-integration>)
  * [Git Panel and UI](</zed-industries/zed/8.1-git-panel-and-ui>)
  * [Git Store and State Management](</zed-industries/zed/8.2-git-store-and-state-management>)
  * [Repository Operations](</zed-industries/zed/8.3-repository-operations>)
  * [Diff System](</zed-industries/zed/8.4-diff-system>)
  * [Terminal and Task Execution](</zed-industries/zed/9-terminal-and-task-execution>)
  * [Terminal Core](</zed-industries/zed/9.1-terminal-core>)
  * [Terminal View and Rendering](</zed-industries/zed/9.2-terminal-view-and-rendering>)
  * [Task System](</zed-industries/zed/9.3-task-system>)
  * [Vim Mode](</zed-industries/zed/10-vim-mode>)
  * [Mode State Machine](</zed-industries/zed/10.1-mode-state-machine>)
  * [Operators, Motions, and Objects](</zed-industries/zed/10.2-operators-motions-and-objects>)
  * [Visual Mode](</zed-industries/zed/10.3-visual-mode>)
  * [Helix Mode Integration](</zed-industries/zed/10.4-helix-mode-integration>)
  * [AI Agent System](</zed-industries/zed/11-ai-agent-system>)
  * [Agent Communication Protocol (ACP)](</zed-industries/zed/11.1-agent-communication-protocol-\(acp\)>)
  * [Agent UI and Thread Management](</zed-industries/zed/11.2-agent-ui-and-thread-management>)
  * [Agent Connection and Implementations](</zed-industries/zed/11.3-agent-connection-and-implementations>)
  * [Tool System](</zed-industries/zed/11.4-tool-system>)
  * [Mention System and Context](</zed-industries/zed/11.5-mention-system-and-context>)
  * [Legacy Agent Thread System](</zed-industries/zed/11.6-legacy-agent-thread-system>)
  * [Remote Development and Collaboration](</zed-industries/zed/12-remote-development-and-collaboration>)
  * [Local vs Remote Architecture](</zed-industries/zed/12.1-local-vs-remote-architecture>)
  * [Remote Project Architecture](</zed-industries/zed/12.2-remote-project-architecture>)
  * [Collaboration Features](</zed-industries/zed/12.3-collaboration-features>)
  * [CRDT and Synchronization](</zed-industries/zed/12.4-crdt-and-synchronization>)


Menu

# Display Pipeline and Rendering

Relevant source files

  * [crates/buffer_diff/src/buffer_diff.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/buffer_diff/src/buffer_diff.rs>)
  * [crates/editor/src/actions.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/actions.rs>)
  * [crates/editor/src/code_completion_tests.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/code_completion_tests.rs>)
  * [crates/editor/src/code_context_menus.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/code_context_menus.rs>)
  * [crates/editor/src/editor.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs>)
  * [crates/editor/src/editor_tests.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor_tests.rs>)
  * [crates/editor/src/element.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs>)
  * [crates/language/src/buffer.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/language/src/buffer.rs>)
  * [crates/language/src/buffer_tests.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/language/src/buffer_tests.rs>)
  * [crates/language/src/syntax_map.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/language/src/syntax_map.rs>)
  * [crates/multi_buffer/src/anchor.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/multi_buffer/src/anchor.rs>)
  * [crates/multi_buffer/src/multi_buffer.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/multi_buffer/src/multi_buffer.rs>)
  * [crates/multi_buffer/src/multi_buffer_tests.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/multi_buffer/src/multi_buffer_tests.rs>)


## Purpose and Scope

This page documents the display pipeline that transforms text from buffer storage to rendered pixels on screen. It covers:

  * The **DisplayMap** coordinate transformation system
  * Text transformations (folds, soft wraps, inlays, tabs, blocks)
  * The **EditorElement** rendering pipeline
  * Coordinate mappings between buffer space and display space
  * Line rendering and text measurement


For information about the underlying buffer storage system, see [Buffer System and Text Storage](</zed-industries/zed/3.2-buffer-system-and-text-storage>). For information about how the Editor component manages state and user interaction, see [Editor Component and UI](</zed-industries/zed/3.1-editor-component-and-ui>).

* * *

## Architecture Overview

The display pipeline transforms text through multiple coordinated layers before rendering to screen. Each layer performs a specific transformation and maintains bidirectional coordinate mappings.


**Sources** : [crates/editor/src/editor.rs1-11](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L1-L11>) [crates/editor/src/display_map/mod.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs>)

* * *

## Coordinate Systems

The display pipeline uses multiple coordinate systems, each representing text after a specific transformation:

Coordinate System| Description| Example Type  
---|---|---  
**Buffer**|  Raw position in the underlying buffer| `Point`, `Anchor`  
**Inlay**|  After inserting inlay hints (type annotations)| `InlayPoint`  
**Fold**|  After folding code regions| `FoldPoint`  
**Tab**|  After expanding tab characters| `TabPoint`  
**Wrap**|  After soft wrapping long lines| `WrapPoint`  
**Block**|  After inserting block decorations| `BlockPoint`  
**Display**|  Final screen coordinates (what user sees)| `DisplayPoint`  
  
Each transformation layer maintains efficient bidirectional mappings using sum trees, enabling O(log n) coordinate conversions.


**Sources** : [crates/editor/src/display_map/mod.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L1-L100>)

* * *

## DisplayMap Entity

The `DisplayMap` is an entity that owns and coordinates all transformation layers:


The `DisplayMap` coordinates updates across all layers when buffer edits occur, ensuring all coordinate systems remain synchronized.

**Sources** : [crates/editor/src/display_map/mod.rs1-200](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L1-L200>) [crates/editor/src/editor.rs1024-1050](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L1024-L1050>)

* * *

## Text Transformation Layers

### Inlay Hints (InlayMap)

Inlay hints insert virtual text (like type annotations) without modifying the underlying buffer.


**InlayMap** responsibilities:

  * Maintains `SumTree<Inlay>` of all inlay hints
  * Each inlay positioned via buffer `Anchor`
  * Identified by `InlayId` for updates/removal
  * Provides `InlaySnapshot` for coordinate conversion


**Sources** : [crates/editor/src/inlays.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/inlays.rs>)

### Code Folding (FoldMap)

Folding collapses regions of text into a single line with a placeholder.


**FoldMap** responsibilities:

  * Maintains `SumTree<Fold>` of folded regions
  * Each fold defined by `Range<Anchor>`
  * Custom fold placeholders (e.g., "...", "•••")
  * Provides `FoldSnapshot` for coordinate conversion


**Sources** : [crates/editor/src/display_map/fold_map.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/fold_map.rs>)

### Tab Expansion (TabMap)

Expands tab characters to spaces based on language settings.


**TabMap** responsibilities:

  * Expands tabs to `tab_size` spaces
  * Maintains column alignment
  * Respects language-specific tab width
  * Provides `TabSnapshot` for coordinate conversion


**Sources** : [crates/editor/src/display_map/tab_map.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/tab_map.rs>)

### Soft Wrapping (WrapMap)

Splits long lines across multiple display rows.


**Wrap modes** (from `SoftWrap` enum):

  * `None`: Prefer single line (wraps at `MAX_LINE_LEN` = 1024)
  * `EditorWidth`: Wrap at editor width
  * `Column(n)`: Wrap at column n
  * `Bounded(n)`: Wrap at min(editor_width, n)
  * `GitDiff`: Special mode for diff hunks


**WrapMap** responsibilities:

  * Calculates wrap points based on width
  * Prefers word boundaries when possible
  * Maintains `SumTree<Transform>` of wrap points
  * Provides `WrapSnapshot` for coordinate conversion


**Sources** : [crates/editor/src/editor.rs526-540](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L526-L540>) [crates/editor/src/display_map/wrap_map.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/wrap_map.rs>)

### Block Decorations (BlockMap)

Inserts full-width blocks between lines for diagnostics, diff controls, headers, etc.


**Block properties** :

  * Positioned relative to buffer `Anchor`
  * Height measured in display lines
  * Custom render functions via `RenderBlock` trait
  * Identified by `BlockId` or `CustomBlockId`


**Sources** : [crates/editor/src/display_map/block_map.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/block_map.rs>) [crates/editor/src/editor.rs227-228](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L227-L228>)

* * *

## DisplaySnapshot and Coordinate Conversion

The `DisplaySnapshot` is an immutable view of all transformations at a point in time. It's used extensively for rendering, hit testing, and coordinate calculations.


**Key conversion methods** :

  * `buffer_to_display_point(point, bias)` \- Buffer → Display
  * `display_to_buffer_point(point, bias)` \- Display → Buffer
  * `clip_point(point, bias)` \- Ensure valid coordinates
  * `anchor_to_display_point(anchor)` \- Anchor → Display
  * `display_point_to_anchor(point, bias)` \- Display → Anchor


**Sources** : [crates/editor/src/display_map/mod.rs200-500](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L200-L500>)

* * *

## EditorElement Rendering Pipeline

The `EditorElement` struct manages rendering the editor to screen. It transforms `DisplaySnapshot` data into GPU draw calls.


**Sources** : [crates/editor/src/element.rs196-630](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs#L196-L630>)

* * *

## Layout Pass

During the layout phase, `EditorElement` computes the visual structure:


**Layout components** :

Component| Type| Purpose  
---|---|---  
`PositionMap`| Struct| Maps display points ↔ pixel positions  
`LineWithInvisibles`| Struct| Shaped line with whitespace markers  
`BlockLayout`| Struct| Rendered block element (diagnostics, headers)  
`GutterDimensions`| Struct| Gutter width calculations  
`EditorLayout`| Struct| Complete layout state  
  
**Sources** : [crates/editor/src/element.rs630-1000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs#L630-L1000>)

* * *

## Text Rendering Details

Each display line is rendered as a sequence of `TextRun`s with associated styles:


**Chunk rendering process** :

  1. `DisplaySnapshot::chunks()` yields `HighlightedChunk`s
  2. Query syntax highlighting from `SyntaxSnapshot`
  3. Apply additional highlights (selections, search matches, diagnostics)
  4. Merge overlapping styles
  5. Convert to `TextRun`s with final styling
  6. Shape text using font subsystem
  7. Draw to screen


**HighlightedChunk** contains:

  * `text`: String content
  * `style`: Optional `HighlightStyle`
  * `is_tab`: Whether this is an expanded tab


**Sources** : [crates/editor/src/display_map/mod.rs500-800](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L500-L800>) [crates/editor/src/element.rs1000-1500](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs#L1000-L1500>)

* * *

## Paint Pass

The paint pass renders visual elements in layers:


**Painting order** (back to front):

  1. **Backgrounds** : Active line, selections, highlights
  2. **Text content** : Syntax-highlighted text
  3. **Text decorations** : Underlines, strikethroughs
  4. **Cursors** : Blinking cursor indicators
  5. **Gutter** : Line numbers, git status, folds
  6. **Scrollbars** : Thumb and markers


**Sources** : [crates/editor/src/element.rs1500-2500](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs#L1500-L2500>)

* * *

## Position Mapping

The `PositionMap` struct converts between display coordinates and pixel positions:


**Text measurement** :

  * `line_height`: Height of a line in pixels
  * `em_width`: Width of 'm' character (used for column calculations)
  * `descent`: Distance below baseline


**Key methods** :

  * `point_for_position(pixel_pos)` → `DisplayPoint` (hit testing)
  * `position_for_point(display_point)` → `Pixels` (cursor positioning)
  * `column_pixels(column)` → `Pixels` (column to pixels)
  * `pixels_to_column(pixels)` → `u32` (pixels to column)


**Sources** : [crates/editor/src/element.rs2500-3000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs#L2500-L3000>)

* * *

## Scrolling System

The `ScrollManager` maintains scroll position through edits:


**Scroll behavior** :

  * `ScrollAnchor` tracks position as buffer `Anchor` \+ pixel offset
  * Anchors maintain scroll position through buffer edits
  * `autoscroll()` ensures cursor remains visible
  * `OngoingScroll` tracks momentum for smooth scrolling


**Autoscroll strategies** (from `Autoscroll` enum):

  * `Next`: Scroll to next occurrence
  * `Center`: Center cursor in viewport
  * `Top`: Position cursor at top
  * `Bottom`: Position cursor at bottom
  * `Newest`: Focus newest cursor


**Sources** : [crates/editor/src/scroll.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/scroll.rs>) [crates/editor/src/editor.rs1024-1050](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L1024-L1050>)

* * *

## Coordinate Clipping

The `DisplaySnapshot` ensures all coordinates are valid:


**Clipping rules** :

  * Rows: Clipped to `0..=max_point().row`
  * Columns: Clipped to `0..=line_len(row)`
  * Soft wrap boundaries: Special handling based on `Bias`
  * Invalid excerpts: Returns valid nearby point


**Sources** : [crates/editor/src/display_map/mod.rs800-1000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L800-L1000>)

* * *

## Performance Optimizations

The rendering pipeline employs several optimizations:

Optimization| Description| Benefit  
---|---|---  
**Incremental updates**|  Only update affected transformation layers| O(edits) vs O(total text)  
**Visible culling**|  Only layout/render visible lines| O(visible) vs O(total lines)  
**Sum tree queries**|  O(log n) coordinate lookups| Fast even for large files  
**Line layout caching**|  Reuse layouts for unchanged lines| Avoid redundant shaping  
**Async syntax**|  Parse syntax on background thread| Non-blocking UI  
**Anchor scrolling**|  Scroll position tracks buffer edits| Stable scrolling during edits  
  
**Update flow on buffer edit** :


**Sources** : [crates/editor/src/editor.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L1-L100>) [crates/editor/src/display_map/mod.rs1-300](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L1-L300>)

* * *

## Integration with Editor

The `Editor` entity owns the `DisplayMap` and uses it for all coordinate operations:


**Editor methods using DisplayMap** :

  * `display_snapshot(cx)` \- Get current display snapshot
  * `display_point_to_anchor(point, bias, cx)` \- Convert to stable anchor
  * `anchor_to_display_point(anchor, cx)` \- Convert anchor to display
  * `selections.display_ranges(snapshot)` \- Get selections in display space


**Sources** : [crates/editor/src/editor.rs1024-1100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L1024-L1100>)

* * *

## Key Code Entities

### Primary Types

Type| File| Purpose  
---|---|---  
`DisplayMap`| `editor/src/display_map/mod.rs`| Entity coordinating all transformations  
`DisplaySnapshot`| `editor/src/display_map/mod.rs`| Immutable view of all transformations  
`DisplayPoint`| `editor/src/display_map/mod.rs`| Display coordinate (row, column)  
`DisplayRow`| `editor/src/display_map/mod.rs`| Display row index  
`EditorElement`| `editor/src/element.rs`| Renders editor content to screen  
`PositionMap`| `editor/src/element.rs`| Maps display points ↔ pixels  
`InlayMap`| `editor/src/display_map/inlay_map.rs`| Manages inlay hints  
`FoldMap`| `editor/src/display_map/fold_map.rs`| Manages code folding  
`TabMap`| `editor/src/display_map/tab_map.rs`| Expands tabs  
`WrapMap`| `editor/src/display_map/wrap_map.rs`| Manages soft wrapping  
`BlockMap`| `editor/src/display_map/block_map.rs`| Manages block decorations  
  
### Key Methods

**Coordinate Conversion** :

  * `DisplaySnapshot::buffer_to_display_point(point, bias)` \- Buffer → Display
  * `DisplaySnapshot::display_to_buffer_point(point, bias)` \- Display → Buffer
  * `DisplaySnapshot::clip_point(point, bias)` \- Ensure valid coordinates
  * `DisplaySnapshot::anchor_to_display_point(anchor)` \- Anchor → Display


**Text Iteration** :

  * `DisplaySnapshot::chunks(range)` \- Iterate syntax-highlighted chunks
  * `DisplaySnapshot::line_len(row)` \- Length of display line
  * `DisplaySnapshot::text()` \- Get all display text
  * `DisplaySnapshot::line_chunks(row)` \- Chunks for single line


**Rendering** :

  * `EditorElement::paint(bounds, window, cx)` \- Main rendering entry
  * `EditorElement::paint_text()` \- Render text content
  * `EditorElement::paint_gutter()` \- Render gutter area
  * `layout_line(snapshot, row, style)` \- Shape single line


**Sources** : [crates/editor/src/display_map/mod.rs1-2000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L1-L2000>) [crates/editor/src/element.rs196-3000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs#L196-L3000>)

* * *

## Summary

The display pipeline transforms buffer text through multiple coordinated layers:

  1. **MultiBuffer** → Base text storage with excerpts
  2. **InlayMap** → Adds virtual text (type hints)
  3. **FoldMap** → Collapses code regions
  4. **TabMap** → Expands tabs to spaces
  5. **WrapMap** → Splits long lines
  6. **BlockMap** → Inserts diagnostic/header blocks
  7. **EditorElement** → Renders to GPU


Each layer:

  * Maintains efficient bidirectional mappings (O(log n) via sum trees)
  * Updates incrementally on buffer edits
  * Produces immutable snapshots for rendering
  * Supports coordinate clipping and validation


The `DisplaySnapshot` provides a consistent, immutable view used by rendering, selection, scrolling, and hit testing. The `EditorElement` translates display coordinates to pixels and performs GPU rendering.

**Sources** : [crates/editor/src/editor.rs1-50](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/editor.rs#L1-L50>) [crates/editor/src/display_map/mod.rs1-100](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/display_map/mod.rs#L1-L100>) [crates/editor/src/element.rs196-220](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/element.rs#L196-L220>)

Dismiss

Refresh this wiki

This wiki was recently refreshed. Please wait 7 days to refresh again.

### On this page

  * [Display Pipeline and Rendering](<#display-pipeline-and-rendering>)
  * [Purpose and Scope](<#purpose-and-scope>)
  * [Architecture Overview](<#architecture-overview>)
  * [Coordinate Systems](<#coordinate-systems>)
  * [DisplayMap Entity](<#displaymap-entity>)
  * [Text Transformation Layers](<#text-transformation-layers>)
  * [Inlay Hints (InlayMap)](<#inlay-hints-inlaymap>)
  * [Code Folding (FoldMap)](<#code-folding-foldmap>)
  * [Tab Expansion (TabMap)](<#tab-expansion-tabmap>)
  * [Soft Wrapping (WrapMap)](<#soft-wrapping-wrapmap>)
  * [Block Decorations (BlockMap)](<#block-decorations-blockmap>)
  * [DisplaySnapshot and Coordinate Conversion](<#displaysnapshot-and-coordinate-conversion>)
  * [EditorElement Rendering Pipeline](<#editorelement-rendering-pipeline>)
  * [Layout Pass](<#layout-pass>)
  * [Text Rendering Details](<#text-rendering-details>)
  * [Paint Pass](<#paint-pass>)
  * [Position Mapping](<#position-mapping>)
  * [Scrolling System](<#scrolling-system>)
  * [Coordinate Clipping](<#coordinate-clipping>)
  * [Performance Optimizations](<#performance-optimizations>)
  * [Integration with Editor](<#integration-with-editor>)
  * [Key Code Entities](<#key-code-entities>)
  * [Primary Types](<#primary-types>)
  * [Key Methods](<#key-methods>)
  * [Summary](<#summary>)
