<!-- Source: https://deepwiki.com/zed-industries/zed/4.1-workspace-organization -->

# 4.1 Workspace Organization

Loading...

Index your code with Devin

[DeepWiki](</>)

[DeepWiki](</>)

[zed-industries/zed ](<https://github.com/zed-industries/zed> "Open repository")

Index your code with

Devin

Edit WikiShare

Loading...

Last indexed: 16 December 2025 ([4109c9](<https://github.com/zed-industries/zed/commits/4109c9dd>))

  * [Overview](</zed-industries/zed/1-overview>)
  * [Core Architecture](</zed-industries/zed/2-core-architecture>)
  * [Application Initialization and Lifecycle](</zed-industries/zed/2.1-application-initialization-and-lifecycle>)
  * [GPUI Framework](</zed-industries/zed/2.2-gpui-framework>)
  * [Window and Platform Abstraction](</zed-industries/zed/2.3-window-and-platform-abstraction>)
  * [Event Flow and Input Handling](</zed-industries/zed/2.4-event-flow-and-input-handling>)
  * [Keybinding and Action System](</zed-industries/zed/2.5-keybinding-and-action-system>)
  * [Focus Management and Hit Testing](</zed-industries/zed/2.6-focus-management-and-hit-testing>)
  * [Editor Architecture](</zed-industries/zed/3-editor-architecture>)
  * [Editor Component and UI](</zed-industries/zed/3.1-editor-component-and-ui>)
  * [Buffer System and Text Storage](</zed-industries/zed/3.2-buffer-system-and-text-storage>)
  * [Display Pipeline and Rendering](</zed-industries/zed/3.3-display-pipeline-and-rendering>)
  * [Selections and Editing Operations](</zed-industries/zed/3.4-selections-and-editing-operations>)
  * [Code Intelligence Integration](</zed-industries/zed/3.5-code-intelligence-integration>)
  * [Diff Integration](</zed-industries/zed/3.6-diff-integration>)
  * [Workspace and Panel System](</zed-industries/zed/4-workspace-and-panel-system>)
  * [Workspace Organization](</zed-industries/zed/4.1-workspace-organization>)
  * [Item System and Lifecycle](</zed-industries/zed/4.2-item-system-and-lifecycle>)
  * [Pane Management](</zed-industries/zed/4.3-pane-management>)
  * [Search System](</zed-industries/zed/4.4-search-system>)
  * [Project Management](</zed-industries/zed/5-project-management>)
  * [Project Orchestration](</zed-industries/zed/5.1-project-orchestration>)
  * [Worktree and File System](</zed-industries/zed/5.2-worktree-and-file-system>)
  * [Buffer Store](</zed-industries/zed/5.3-buffer-store>)
  * [Language Intelligence](</zed-industries/zed/6-language-intelligence>)
  * [LSP Store Architecture](</zed-industries/zed/6.1-lsp-store-architecture>)
  * [Language Server Lifecycle](</zed-industries/zed/6.2-language-server-lifecycle>)
  * [Completions and Diagnostics](</zed-industries/zed/6.3-completions-and-diagnostics>)
  * [Multi-Language Server Coordination](</zed-industries/zed/6.4-multi-language-server-coordination>)
  * [Settings and Configuration](</zed-industries/zed/7-settings-and-configuration>)
  * [Settings Store and Layering](</zed-industries/zed/7.1-settings-store-and-layering>)
  * [Settings UI](</zed-industries/zed/7.2-settings-ui>)
  * [Settings Migration](</zed-industries/zed/7.3-settings-migration>)
  * [Keymap System](</zed-industries/zed/7.4-keymap-system>)
  * [Git Integration](</zed-industries/zed/8-git-integration>)
  * [Git Panel and UI](</zed-industries/zed/8.1-git-panel-and-ui>)
  * [Git Store and State Management](</zed-industries/zed/8.2-git-store-and-state-management>)
  * [Repository Operations](</zed-industries/zed/8.3-repository-operations>)
  * [Diff System](</zed-industries/zed/8.4-diff-system>)
  * [Terminal and Task Execution](</zed-industries/zed/9-terminal-and-task-execution>)
  * [Terminal Core](</zed-industries/zed/9.1-terminal-core>)
  * [Terminal View and Rendering](</zed-industries/zed/9.2-terminal-view-and-rendering>)
  * [Task System](</zed-industries/zed/9.3-task-system>)
  * [Vim Mode](</zed-industries/zed/10-vim-mode>)
  * [Mode State Machine](</zed-industries/zed/10.1-mode-state-machine>)
  * [Operators, Motions, and Objects](</zed-industries/zed/10.2-operators-motions-and-objects>)
  * [Visual Mode](</zed-industries/zed/10.3-visual-mode>)
  * [Helix Mode Integration](</zed-industries/zed/10.4-helix-mode-integration>)
  * [AI Agent System](</zed-industries/zed/11-ai-agent-system>)
  * [Agent Communication Protocol (ACP)](</zed-industries/zed/11.1-agent-communication-protocol-\(acp\)>)
  * [Agent UI and Thread Management](</zed-industries/zed/11.2-agent-ui-and-thread-management>)
  * [Agent Connection and Implementations](</zed-industries/zed/11.3-agent-connection-and-implementations>)
  * [Tool System](</zed-industries/zed/11.4-tool-system>)
  * [Mention System and Context](</zed-industries/zed/11.5-mention-system-and-context>)
  * [Legacy Agent Thread System](</zed-industries/zed/11.6-legacy-agent-thread-system>)
  * [Remote Development and Collaboration](</zed-industries/zed/12-remote-development-and-collaboration>)
  * [Local vs Remote Architecture](</zed-industries/zed/12.1-local-vs-remote-architecture>)
  * [Remote Project Architecture](</zed-industries/zed/12.2-remote-project-architecture>)
  * [Collaboration Features](</zed-industries/zed/12.3-collaboration-features>)
  * [CRDT and Synchronization](</zed-industries/zed/12.4-crdt-and-synchronization>)


Menu

# Workspace and Pane Organization

Relevant source files

  * [crates/editor/src/items.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/editor/src/items.rs>)
  * [crates/language/src/proto.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/language/src/proto.rs>)
  * [crates/project/src/search.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/project/src/search.rs>)
  * [crates/proto/proto/buffer.proto](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/proto/proto/buffer.proto>)
  * [crates/search/src/buffer_search.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/search/src/buffer_search.rs>)
  * [crates/search/src/project_search.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/search/src/project_search.rs>)
  * [crates/vim/src/normal/search.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/vim/src/normal/search.rs>)
  * [crates/workspace/src/item.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/item.rs>)
  * [crates/workspace/src/pane.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs>)
  * [crates/workspace/src/searchable.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/searchable.rs>)
  * [crates/workspace/src/workspace.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs>)


## Purpose and Scope

This document explains the `Workspace` structure and how it organizes content through `PaneGroup`s, `Dock`s, and `Pane` splitting. It covers:

  * The `Workspace` entity's top-level structure
  * The `PaneGroup` binary tree for arranging panes
  * The three `Dock` containers (left, right, bottom)
  * Pane splitting operations and layout management


For details on the `Item` trait, `SerializableItem`, `FollowableItem`, and how content types integrate with panes, see [Item System and Panels](<#2.6.2>). For Project coordination, see [Project Management and File System](<#2.7>).

* * *

## Workspace Structure

The `Workspace` is the top-level container for all content within a window. Each workspace window corresponds to a single `Workspace` entity that orchestrates project views, panes, panels, and UI state.

### Core Components


**Sources:** [crates/workspace/src/workspace.rs1119-1242](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L1119-L1242>)

The `Workspace` struct maintains:

  * **center: Entity <PaneGroup>**: The central area containing all panes with items (editors, search results, etc.)
  * **left_dock, right_dock, bottom_dock: Entity <Dock>**: Three dock containers for panels
  * **active_pane: Entity <Pane>**: The currently focused pane
  * **panes: Vec <Entity<Pane>>**: All panes in the workspace
  * **project: Entity <Project>**: The coordinating project entity
  * **panes_by_item: HashMap <EntityId, WeakEntity<Pane>>**: Fast lookup from item ID to containing pane
  * **status_bar: Entity <StatusBar>**: Bottom status bar
  * **modal_layer: Option <AnyView>**: Optional modal overlay (e.g., file picker)


* * *

## PaneGroup and Layout System

The `PaneGroup` implements a recursive split layout where the workspace center can be divided into multiple panes arranged in a binary tree. Each node is either a `Pane` (leaf) or an `Axis` split (internal node).

### PaneGroup Structure


**Sources:** [crates/workspace/src/pane_group.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane_group.rs>) [crates/workspace/src/workspace.rs63-66](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L63-L66>)

The `Member` enum represents tree nodes:
    
    
    pub enum Member {
        Axis {
            axis: PaneAxis,
            members: Vec<Member>,
        },
        Pane(Entity<Pane>),
    }
    

And `PaneAxis` determines split direction:
    
    
    pub enum PaneAxis {
        Horizontal,  // Left-right split
        Vertical,    // Top-bottom split
    }
    

### Example Split Layout


**Sources:** [crates/workspace/src/pane_group.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane_group.rs>)

### Split Operations

Panes can be split in four directions via actions:

Action| Effect  
---|---  
`SplitLeft` / `SplitRight`| Creates horizontal split, clones active item  
`SplitUp` / `SplitDown`| Creates vertical split, clones active item  
`SplitAndMoveLeft` / etc.| Creates split, moves active item (no clone)  
  
**Sources:** [crates/workspace/src/pane.rs220-236](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L220-L236>)

* * *

## Pane Management

A `Pane` is a container that holds a collection of items displayed as tabs. Only one item is active at a time within each pane.

### Pane Structure


**Sources:** [crates/workspace/src/pane.rs342-399](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L342-L399>)

### Key Pane Responsibilities

  1. **Item Management** : Adding, removing, activating items
  2. **Tab Display** : Rendering tab bar with icons, labels, close buttons
  3. **Preview Tabs** : Temporary tabs that get replaced on new file opens
  4. **Pinned Tabs** : Tabs that cannot be auto-closed
  5. **Focus** : Managing focus between toolbar and items
  6. **Drag & Drop**: Supporting tab reordering and pane splits
  7. **Navigation** : Forward/backward history within the pane


**Sources:** [crates/workspace/src/pane.rs338-342](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L338-L342>)

**Sources:** [crates/workspace/src/pane.rs342-399](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L342-L399>)

* * *

## Dock System

The workspace has three docks that can contain panels (ProjectPanel, Terminal, OutlinePanel, etc.). Each dock can be shown, hidden, or resized independently.

### Dock Structure


Each `Dock` contains:

  * **pane: Entity <Pane>**: A pane that holds panel items
  * **position: DockPosition** : Left, Right, or Bottom
  * **visible: bool** : Whether the dock is currently shown
  * **panel_buttons: Entity <PanelButtons>**: UI buttons for the dock


**Sources:** [crates/workspace/src/dock.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/dock.rs>) [crates/workspace/src/workspace.rs1119-1242](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L1119-L1242>)

### Dock Operations

Action| Description  
---|---  
`ToggleLeftDock` / `ToggleRightDock` / `ToggleBottomDock`| Show/hide the dock  
`CloseActiveDock`| Hide the currently focused dock  
`CloseAllDocks` / `ToggleAllDocks`| Hide/show all docks  
`IncreaseActiveDockSize` / `DecreaseActiveDockSize`| Resize the focused dock  
`ResetActiveDockSize` / `ResetOpenDocksSize`| Reset dock sizes to defaults  
  
**Sources:** [crates/workspace/src/workspace.rs187-275](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L187-L275>) [crates/workspace/src/dock.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/dock.rs>)

### Dock Layout

Docks are positioned around the central `PaneGroup`:
    
    
    ┌─────────────────────────────────────┐
    │         Status Bar / Title Bar      │
    ├────┬─────────────────────────┬──────┤
    │    │                         │      │
    │ L  │   Center PaneGroup      │  R   │
    │ e  │   (Editors, Search)     │  i   │
    │ f  │                         │  g   │
    │ t  │                         │  h   │
    │    │                         │  t   │
    │ D  │                         │      │
    │ o  │                         │  D   │
    │ c  │                         │  o   │
    │ k  │                         │  c   │
    │    │                         │  k   │
    ├────┴─────────────────────────┴──────┤
    │        Bottom Dock                  │
    │    (Terminal, Diagnostics)          │
    ├─────────────────────────────────────┤
    │         Status Bar                  │
    └─────────────────────────────────────┘
    

**Sources:** [crates/workspace/src/workspace.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs>) [crates/workspace/src/dock.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/dock.rs>)

* * *

## Pane Activation and Focus

The workspace tracks which pane is currently active and manages focus transfer between panes.

### Active Pane Tracking

The `Workspace` maintains:

  * **active_pane: Entity <Pane>**: The currently focused pane
  * **panes: Vec <Entity<Pane>>**: All panes in the workspace


When a pane is activated, the workspace updates the active pane reference and notifies observers.

**Sources:** [crates/workspace/src/workspace.rs1232-1233](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L1232-L1233>)

### Pane Switching Actions

Panes can be activated through several actions:

Action| Description  
---|---  
`ActivateNextPane`| Focus next pane in the activation order  
`ActivatePreviousPane`| Focus previous pane in the activation order  
`ActivatePaneLeft` / `Right` / `Up` / `Down`| Focus pane in spatial direction  
`ActivatePane(n)`| Focus pane by numeric index  
  
**Sources:** [crates/workspace/src/workspace.rs187-198](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L187-L198>) [crates/workspace/src/workspace.rs424-451](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L424-L451>)

### Focus Hierarchy

Focus flows through the workspace hierarchy:
    
    
    Window → Workspace → Pane → Item (Editor/Terminal/etc)
    

When a pane gains focus, it determines whether to focus the toolbar or the active item based on the last focused element.

**Sources:** [crates/workspace/src/pane.rs590-630](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L590-L630>)

* * *

## Pane Splitting Operations

### Split Sequence Diagram


**Sources:** [crates/workspace/src/pane.rs1598-1694](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L1598-L1694>) [crates/workspace/src/pane_group.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane_group.rs>)

### Pane Movement Operations

Panes can be moved or swapped to different positions in the layout:

Action| Description  
---|---  
`SwapPaneLeft` / `Right` / `Up` / `Down`| Swap with adjacent pane in direction  
`MovePaneLeft` / `Right` / `Up` / `Down`| Move pane to edge in direction  
`SwapPaneAdjacent`| Swap with first available adjacent pane  
  
**Sources:** [crates/workspace/src/workspace.rs424-451](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L424-L451>)

### Join Operations

Panes can be merged together:

  * **JoinIntoNext** : Merges the current pane's items into the next pane in the layout
  * **JoinAll** : Merges all panes into a single pane


**Sources:** [crates/workspace/src/pane.rs199-217](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L199-L217>)

* * *

## Summary

The Workspace and Pane organization system provides:

  1. **Hierarchical Layout** : PaneGroups organize panes in a flexible tree of horizontal/vertical splits
  2. **Item Container** : Panes manage collections of items displayed as tabs with preview and pinned states
  3. **Type Erasure** : ItemHandle trait enables uniform handling of heterogeneous item types
  4. **Navigation** : Multi-level history tracking for backward/forward navigation and closed item recovery
  5. **Persistence** : Serialization system preserves entire workspace layout across sessions
  6. **Focus Management** : Coordinated focus tracking through panes, items, and toolbars


The system balances flexibility (arbitrary splits, any item type) with structure (well-defined lifecycle, serialization protocol) to provide a robust foundation for Zed's workspace organization.

**Sources:** [crates/workspace/src/workspace.rs1-4500](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/workspace.rs#L1-L4500>) [crates/workspace/src/pane.rs1-4000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane.rs#L1-L4000>) [crates/workspace/src/pane_group.rs](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/pane_group.rs>) [crates/workspace/src/item.rs1-1000](<https://github.com/zed-industries/zed/blob/4109c9dd/crates/workspace/src/item.rs#L1-L1000>)

Dismiss

Refresh this wiki

This wiki was recently refreshed. Please wait 7 days to refresh again.

### On this page

  * [Workspace and Pane Organization](<#workspace-and-pane-organization>)
  * [Purpose and Scope](<#purpose-and-scope>)
  * [Workspace Structure](<#workspace-structure>)
  * [Core Components](<#core-components>)
  * [PaneGroup and Layout System](<#panegroup-and-layout-system>)
  * [PaneGroup Structure](<#panegroup-structure>)
  * [Example Split Layout](<#example-split-layout>)
  * [Split Operations](<#split-operations>)
  * [Pane Management](<#pane-management>)
  * [Pane Structure](<#pane-structure>)
  * [Key Pane Responsibilities](<#key-pane-responsibilities>)
  * [Dock System](<#dock-system>)
  * [Dock Structure](<#dock-structure>)
  * [Dock Operations](<#dock-operations>)
  * [Dock Layout](<#dock-layout>)
  * [Pane Activation and Focus](<#pane-activation-and-focus>)
  * [Active Pane Tracking](<#active-pane-tracking>)
  * [Pane Switching Actions](<#pane-switching-actions>)
  * [Focus Hierarchy](<#focus-hierarchy>)
  * [Pane Splitting Operations](<#pane-splitting-operations>)
  * [Split Sequence Diagram](<#split-sequence-diagram>)
  * [Pane Movement Operations](<#pane-movement-operations>)
  * [Join Operations](<#join-operations>)
  * [Summary](<#summary>)
